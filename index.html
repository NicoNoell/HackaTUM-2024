<!DOCTYPE html>
<html>
<head>
    <title>Daten Visualisierung</title>
    <style>
        .container {
            display: flex;
            gap: 20px;
        }
        .column {
            flex: 1;
        }
        ul {
            list-style-type: none;
            padding: 0;
        }
        li {
            background: #f0f0f0;
            margin: 5px 0;
            padding: 10px;
            border-radius: 5px;
        }
        h1, h2 {
            text-align: center;
        }
    </style>
</head>
<body>
    <h1 style="text-align: center;">Taxi-Dashboard</h1>
    <div class="container">
        <div class="column">
            <h2>Vehicles</h2>
            <ul id="vehicle-list"></ul>
        </div>
        <div class="column">
            <h2>Customers</h2>
            <ul id="customer-list"></ul>
        </div>
    </div>

    <script>
        (async () => {
            const response = await fetch('http://127.0.0.1:5000/api/getData');

            const data = await response.json();

            data["vehicles"].forEach(element => {
                const list = document.getElementById('vehicle-list');
                const li = document.createElement('li');

                const id = document.createElement('div');
                id.textContent = "id: " + element["id"];
                li.appendChild(id);

                const pos = document.createElement('div');
                pos.textContent = "pos: (" + element["coordX"] + ", " + element["coordY"] + ")";
                li.appendChild(pos);

                list.appendChild(li);
            });

            data["customers"].forEach(element => {
                const list = document.getElementById('customer-list');
                const li = document.createElement('li');

                const id = document.createElement('div');
                id.textContent = "id: " + element["id"];
                li.appendChild(id);

                const pos = document.createElement('div');
                pos.textContent = "pos: (" + element["coordX"] + ", " + element["coordY"] + ")";
                li.appendChild(pos);

                const destination = document.createElement('div');
                destination.textContent = "Destination: (" + element["destinationX"] + ", " + element["destinationY"] + ")";
                li.appendChild(destination);

                list.appendChild(li);
            });
        })();
    </script>
</body>
</html>